CREATE DATABASE RESERVATION

USE RESERVATION


CREATE TABLE USER1
(
ID Integer not null PRIMARY KEY,
FIRST_NAME VARCHAR(20),
LAST_NAME VARCHAR(20),
EMAIL VARCHAR(50),
PASSWORD VARCHAR(256), 
UNIQUE (EMAIL)
);

CREATE TABLE FLIGHT
(
  ID Integer not null PRIMARY KEY,
  FLIGHT_NUMBER VARCHAR(20)  NOT NULL, 
  OPERATING_AIRLINES VARCHAR(20)  NOT NULL,
  DEPARTURE_CITY VARCHAR(20)  NOT NULL,
  ARRIVAL_CITY VARCHAR(20)  NOT NULL,
  DATE_OF_DEPARTURE DATE  NOT NULL,
  ESTIMATED_DEPARTURE_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE PASSENGER
(
  ID Integer not null PRIMARY KEY,
  FIRST_NAME       VARCHAR(256),
  LAST_NAME    VARCHAR(256),
  MIDDLE_NAME   VARCHAR(256),
  EMAIL VARCHAR(50),
  PHONE VARCHAR(10)
);

CREATE TABLE RESERVATION
(
  ID Integer not null PRIMARY KEY,
  --CHECKED_IN TINYINT(1),
  NUMBER_OF_BAGS INT,
  PASSENGER_ID INT,
  FLIGHT_ID INT,
  CREATED TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (PASSENGER_ID) REFERENCES PASSENGER(ID) ON DELETE CASCADE,
  FOREIGN KEY (FLIGHT_ID) REFERENCES FLIGHT(ID)
);

alter table RESERVATION add CHECKED_IN SMALLINT;

SELECT * FROM USER1;

SELECT * FROM PASSENGER; 

SELECT * FROM FLIGHT;

SELECT * FROM RESERVATION;


insert into flight values(1,'AA1','American Airlines','AUS',
'NYC',TO_DATE('02/05/2018', 'MM/DD/YYYY'), to_date('2018-02-05 03:20:20' , 'YYYY-MM-DD HH24:MI:SS'));

insert into flight values(2,'AA2','American Airlines','AUS',
'NYC',to_date('02/05/2018', 'MM/DD/YYYY'), to_date('2018-02-05 05:14:07' , 'YYYY-MM-DD HH24:MI:SS'));

insert into flight values(3,'AA3','American Airlines','AUS',
'NYC',to_date('02/05/2018', 'MM/DD/YYYY'), to_date('2018-02-05 06:14:07' , 'YYYY-MM-DD HH24:MI:SS'));

insert into flight values(4,'SW1','South West','AUS',
'NYC',to_date('02/05/2018', 'MM/DD/YYYY'), to_date('2018-02-05 07:14:07' , 'YYYY-MM-DD HH24:MI:SS'));

insert into flight values(5,'UA1','United Airlines','NYC',
'DAL',to_date('02/05/2018', 'MM/DD/YYYY'), to_date('2018-02-05 10:14:07' , 'YYYY-MM-DD HH24:MI:SS'));

insert into flight values(6,'UA1','United Airlines','NYC',
'DAL',to_date('02/05/2018', 'MM/DD/YYYY'), to_date('2018-02-05 10:14:07' , 'YYYY-MM-DD HH24:MI:SS'));

insert into flight values(7,'SW1','South West','AUS',
'NYC',to_date('02/06/2018', 'MM/DD/YYYY'), to_date('2018-02-06 07:14:07' , 'YYYY-MM-DD HH24:MI:SS'));

insert into flight values(8,'SW2','South West','AUS',
'NYC',to_date('02/06/2018', 'MM/DD/YYYY'), to_date('2018-02-06 08:14:07' , 'YYYY-MM-DD HH24:MI:SS'));

insert into flight values(9,'SW3','South West','NYC',
'DAL',to_date('02/06/2018', 'MM/DD/YYYY'), to_date('2018-02-06 10:14:07' , 'YYYY-MM-DD HH24:MI:SS'));

insert into flight values(10,'UA1','United Airlines','NYC',
'DAL',to_date('02/06/2018', 'MM/DD/YYYY'), to_date('2018-02-06 10:14:07' , 'YYYY-MM-DD HH24:MI:SS'));


select * from flight;

DROP TABLE USER
DROP TABLE RESERVATION
DROP TABLE PASSENGER
DROP TABLE FLIGHT

DROP DATABASE RESERVATION